(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{354:function(t,e,s){"use strict";s.r(e);var a=s(25),r=Object(a.a)({},(function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"vuepress-손쉽게-배포하기-자동-빌드-및-배포"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#vuepress-손쉽게-배포하기-자동-빌드-및-배포"}},[t._v("#")]),t._v(" VuePress 손쉽게 배포하기 (자동 빌드 및 배포)")]),t._v(" "),s("p",[t._v("VuePress를 알게 된 후 git pages 를 만든다고 이래 저래 셋팅을 하다 보니"),s("br"),t._v("\n새로 페이지를 만들거나 수정한 후 최종 반영까지의 단계가 조금 번거롭다고 느낌.")]),t._v(" "),s("p",[t._v("개발자는 게으른게 미덕이라고 하나,"),s("br"),t._v("\n본인은 쓸데없이 덜 게으른 타입이라 한 땀 한 땀 손으로 하고 직접 확인하는 걸 좋아함ㅋ")]),t._v(" "),s("p",[t._v("그.러.나.")]),t._v(" "),s("p",[t._v("편리한 방법이 있다면 활용해야지!"),s("br"),t._v("\n하는 생각이 들었다. (철 들었나)")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://user-images.githubusercontent.com/15275415/89363494-4fb38a80-d70b-11ea-87d9-c00769d65401.jpg",alt:"image"}})]),t._v(" "),s("p",[t._v("개선하고 나면 더 편할텐데 바빠서 개선할 시간이 없다고 하는 유명한 짤."),s("br"),t._v("\n찾다보니 레고 버전도 있다ㅋㅋ")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://user-images.githubusercontent.com/15275415/89363497-517d4e00-d70b-11ea-8199-2430fb62d91a.jpg",alt:"image"}})]),t._v(" "),s("h2",{attrs:{id:"git-actions-활용"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#git-actions-활용"}},[t._v("#")]),t._v(" Git Actions 활용")]),t._v(" "),s("p",[s("a",{attrs:{href:"https://github.com/marketplace/actions/vuepress-deploy",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://github.com/marketplace/actions/vuepress-deploy"),s("OutboundLink")],1),t._v(" 참고")]),t._v(" "),s("h3",{attrs:{id:"저장소-root-에-github-workflows-폴더-설치"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#저장소-root-에-github-workflows-폴더-설치"}},[t._v("#")]),t._v(" 저장소 root 에 "),s("code",[t._v(".github/workflows")]),t._v(" 폴더 설치")]),t._v(" "),s("div",{staticClass:"custom-block warning"},[s("p",{staticClass:"custom-block-title"},[t._v("폴더명")]),t._v(" "),s("p",[s("code",[t._v("workflow")]),t._v(" 가 아니라 "),s("code",[t._v("workflows")]),t._v(" 임을 주의.")])]),t._v(" "),s("p",[t._v("처음에 "),s("code",[t._v("s")]),t._v(" 를 빼먹고 설치해서 액션이 제대로 실행되지 않았었다. 😅")]),t._v(" "),s("h3",{attrs:{id:"위에서-설치한-폴더-하위에-yml-파일-생성"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#위에서-설치한-폴더-하위에-yml-파일-생성"}},[t._v("#")]),t._v(" 위에서 설치한 폴더 하위에 yml 파일 생성")]),t._v(" "),s("p",[t._v("필자는 "),s("code",[t._v("main.yml")]),t._v(" 로 생성하고 내용은 아래 걸로 추가해줬다.")]),t._v(" "),s("div",{staticClass:"language-sh extra-class"},[s("div",{staticClass:"highlight-lines"},[s("br"),s("div",{staticClass:"highlighted"},[t._v(" ")]),s("br"),s("br"),s("div",{staticClass:"highlighted"},[t._v(" ")]),s("br"),s("div",{staticClass:"highlighted"},[t._v(" ")]),s("div",{staticClass:"highlighted"},[t._v(" ")]),s("br"),s("br"),s("br"),s("br"),s("br"),s("br"),s("br"),s("br"),s("br"),s("br")]),s("pre",{pre:!0,attrs:{class:"language-sh"}},[s("code",[t._v("name: Build and Deploy\non: "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("push"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\njobs:\n  build-and-deploy:\n    runs-on: ubuntu-latest\n    steps:\n    - name: Checkout\n      uses: actions/checkout@main\n\n    - name: vuepress-deploy\n      uses: jenkey2011/vuepress-deploy@1.0.1\n      env:\n        ACCESS_TOKEN: "),s("span",{pre:!0,attrs:{class:"token variable"}},[t._v("${{ secrets.ACCESS_TOKEN }")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n        TARGET_REPO: realgoways/TIL\n        TARGET_BRANCH: gh-pages\n        BUILD_SCRIPT: "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("yarn")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v("&&")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("yarn")]),t._v(" build\n        BUILD_DIR: docs/.vuepress/dist/\n")])])]),s("h3",{attrs:{id:"access-token-발급-및-셋팅"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#access-token-발급-및-셋팅"}},[t._v("#")]),t._v(" "),s("code",[t._v("ACCESS_TOKEN")]),t._v(" 발급 및 셋팅")]),t._v(" "),s("p",[t._v("위 파일에 보면 "),s("code",[t._v("secrets.ACCESS_TOKEN")]),t._v(" 을 사용하는데 GitHub 저장소에 셋팅을 해줘야한다.")]),t._v(" "),s("p",[s("strong",[t._v("1. 토큰 발급")]),s("br"),t._v("\nSettings > Developer settings > Personal access tokens 접속해서 "),s("code",[t._v("Generate new token")]),t._v(" 을 한다."),s("br"),t._v(" "),s("a",{attrs:{href:"https://github.com/settings/tokens",target:"_blank",rel:"noopener noreferrer"}},[t._v("https://github.com/settings/tokens"),s("OutboundLink")],1)]),t._v(" "),s("p",[t._v("Note 영역을 적절하게 채우고 "),s("code",[t._v("repo")]),t._v(" 부분에 체크를 한 후 "),s("code",[t._v("Generate Token")]),t._v(" "),s("img",{attrs:{src:"https://user-images.githubusercontent.com/15275415/89365726-32cd8600-d710-11ea-82e2-2346d3d211b2.png",alt:"image"}})]),t._v(" "),s("p",[s("strong",[t._v("2. "),s("code",[t._v("ACCESS_TOKEN")]),t._v(" 셋팅")]),s("br"),t._v("\n발행된 토큰을 복사해서 저장소의 Settings > Secrets 로 이동"),s("br"),t._v("\n(저장소의 "),s("code",[t._v("Settings")]),t._v(" 쪽으로 들어가야 한다.)")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://user-images.githubusercontent.com/15275415/89366033-f0587900-d710-11ea-8608-e70f4026d51b.png",alt:"image"}})]),t._v(" "),s("p",[s("code",[t._v("New Secret")]),t._v(" 해서 key - value 를 적어준다.")]),t._v(" "),s("p",[t._v("key : "),s("code",[t._v("ACCESS_TOKEN")]),s("br"),t._v("\nvalue : 위에서 복사한 토큰")]),t._v(" "),s("p",[t._v("아래와 같은 형태로 되면 된다.")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://user-images.githubusercontent.com/15275415/89366235-75dc2900-d711-11ea-94a8-7ec08cef5577.png",alt:"image"}})]),t._v(" "),s("p",[s("strong",[t._v("3. 이제 yml 파일을 push 하면 끝!")])]),t._v(" "),s("p",[t._v("아래처럼 "),s("code",[t._v("Actions")]),t._v(" 탭에서 실행 내역을 볼 수 있다."),s("br"),t._v("\n(초반에 토큰 설정 시 repo 권한을 안 주고 셋팅해서 무수한 실패를..ㅋㅋ)")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://user-images.githubusercontent.com/15275415/89366418-d4090c00-d711-11ea-9ad5-72d88bd0a2bd.png",alt:"image"}})]),t._v(" "),s("h2",{attrs:{id:"기타-액션-수행-결과-확인"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#기타-액션-수행-결과-확인"}},[t._v("#")]),t._v(" 기타: 액션 수행 결과 확인")]),t._v(" "),s("p",[t._v("어느 시점에 오류가 발생했는지 확인할 수 있다.\n해당 부분을 클릭해보면 자세한 log 도 확인 가능하다.")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://user-images.githubusercontent.com/15275415/89366643-37933980-d712-11ea-99df-3ce5fa180c2b.png",alt:"image"}})]),t._v(" "),s("p",[t._v("이로써 저장소에 push 만 하면 gh-pages 까지 자동 배포가 된다~ 🎉"),s("br"),t._v("\n이제 동그란 바퀴를 달게 되었다! ㅎㅎ")]),t._v(" "),s("p",[s("img",{attrs:{src:"https://user-images.githubusercontent.com/15275415/89366851-a1134800-d712-11ea-9efe-01bd0ef8837f.png",alt:"image"}})])])}),[],!1,null,null,null);e.default=r.exports}}]);